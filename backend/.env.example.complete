# =====================================================
# GreenPay Backend - Complete Environment Configuration
# =====================================================
# Copy this file to .env and update with production values
# Last updated: 2026-01-21

# =====================================================
# DATABASE CONFIGURATION
# =====================================================
DB_HOST=165.22.52.100
DB_PORT=5432
DB_NAME=greenpay
DB_USER=greenpay
DB_PASSWORD=GreenPay2025!Secure#PG

# =====================================================
# JWT AUTHENTICATION
# =====================================================
JWT_SECRET=your-secure-jwt-secret-change-this-in-production
JWT_EXPIRY=24h

# =====================================================
# SMTP EMAIL CONFIGURATION
# =====================================================
# SMTP server settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Sender email address (with display name)
SMTP_FROM="PNG Green Fees" <noreply@greenpay.gov.pg>

# =====================================================
# CONTACT EMAIL ADDRESSES (NEW - Required)
# =====================================================
# Support contact email (shown in customer notifications)
SUPPORT_EMAIL=support@greenpay.gov.pg

# Enquiries email (shown in quotations and PDFs)
ENQUIRIES_EMAIL=png.greenfees@ccda.gov.pg

# General contact email (shown in PDFs and footers)
CONTACT_EMAIL=png.greenfees@ccda.gov.pg

# IT Support email (for ticket notifications)
IT_SUPPORT_EMAIL=meghana@vflex.com.pg

# =====================================================
# BSP PAYMENT GATEWAY
# =====================================================
BSP_API_KEY=your-bsp-api-key
BSP_MERCHANT_ID=your-merchant-id
BSP_RETURN_URL=https://greenpay.eywademo.cloud/payment-success
BSP_CANCEL_URL=https://greenpay.eywademo.cloud/payment-cancelled
BSP_WEBHOOK_URL=https://greenpay.eywademo.cloud/api/payment-webhook

# =====================================================
# DOKU PAYMENT GATEWAY
# =====================================================
DOKU_CLIENT_ID=your-doku-client-id
DOKU_SECRET_KEY=your-doku-secret-key
DOKU_MERCHANT_CODE=your-doku-merchant-code

# =====================================================
# APPLICATION SETTINGS
# =====================================================
# Server port (backend API)
PORT=3001

# Node environment (development/production)
NODE_ENV=production

# Frontend URL (for CORS and links)
FRONTEND_URL=https://greenpay.eywademo.cloud

# Public URL (for public-facing pages)
PUBLIC_URL=https://greenpay.eywademo.cloud

# =====================================================
# SECURITY & RATE LIMITING
# =====================================================
# Rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://greenpay.eywademo.cloud,http://localhost:3000

# =====================================================
# FILE STORAGE
# =====================================================
# Upload directory for vouchers, passports, etc.
UPLOAD_DIR=/home/eywademo-greenpay/htdocs/greenpay.eywademo.cloud/backend/uploads

# Asset directory for logos, images
ASSET_DIR=/home/eywademo-greenpay/htdocs/greenpay.eywademo.cloud/backend/assets

# =====================================================
# LOGGING
# =====================================================
# Log level (error/warn/info/debug)
LOG_LEVEL=info

# Log directory
LOG_DIR=/home/eywademo-greenpay/htdocs/greenpay.eywademo.cloud/backend/logs

# =====================================================
# OPTIONAL: SMS GATEWAY (Future)
# =====================================================
# SMS_PROVIDER=digicel
# SMS_API_KEY=your-sms-api-key
# SMS_SENDER_ID=GreenFees

# =====================================================
# DEPLOYMENT NOTES
# =====================================================
#
# CRITICAL CHANGES (January 21, 2026):
# - Added SUPPORT_EMAIL: Used in customer notification emails
# - Added ENQUIRIES_EMAIL: Used in quotations and PDF documents
# - Added CONTACT_EMAIL: Used as general contact in PDFs
#
# All email sending now uses these environment variables.
# No hardcoded email addresses remain in the codebase.
#
# DEPLOYMENT CHECKLIST:
# 1. ✅ Copy this file to .env in production
# 2. ✅ Update all email addresses with production values
# 3. ✅ Ensure SMTP credentials are correct
# 4. ✅ Restart backend: pm2 restart greenpay-api
# 5. ✅ Test email sending with a new transaction
# 6. ✅ Verify PDFs show correct contact information
#
# =====================================================

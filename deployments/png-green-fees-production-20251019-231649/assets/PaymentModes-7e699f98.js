import{r as s,u as g,j as e,m as N,L as n,I as y,B as v}from"./index-f386841f.js";import{g as r,a as w,u as C}from"./paymentModesStorage-3d8fa5db.js";import{S as i}from"./switch-357df985.js";import{P as M}from"./plus-circle-a9eea528.js";const E=()=>{const[j,l]=s.useState([]),[d,o]=s.useState(""),[m,x]=s.useState(!1),[h,p]=s.useState(!0),{toast:a}=g();s.useEffect(()=>{(async()=>{const c=await r();l(c)})()},[]);const b=async()=>{if(!d.trim()){a({title:"Validation Error",description:"Payment mode name cannot be empty.",variant:"destructive"});return}try{await w({name:d,collectCardDetails:m,active:h});const t=await r();l(t),o(""),x(!1),p(!0),a({title:"Success",description:"New payment mode added."})}catch{a({title:"Error",description:"Failed to add payment mode. Please try again.",variant:"destructive"})}},f=async(t,c)=>{try{await C(t,{active:!c});const u=await r();l(u)}catch{a({title:"Error",description:"Failed to update payment mode. Please try again.",variant:"destructive"})}};return e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent",children:"Payment Modes Management"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-emerald-100",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Existing Payment Modes"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-left font-semibold text-slate-600",children:"Name"}),e.jsx("th",{className:"p-3 text-left font-semibold text-slate-600",children:"Collect Card Details"}),e.jsx("th",{className:"p-3 text-left font-semibold text-slate-600",children:"Status"}),e.jsx("th",{className:"p-3 text-left font-semibold text-slate-600",children:"Actions"})]})}),e.jsx("tbody",{children:j.map(t=>e.jsxs("tr",{className:"border-b border-slate-200",children:[e.jsx("td",{className:"p-3 font-medium text-slate-800",children:t.name}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t.collectCardDetails?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.collectCardDetails?"Yes":"No"})}),e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.active?"Active":"Inactive"})}),e.jsx("td",{className:"p-3",children:e.jsx(i,{checked:t.active,onCheckedChange:()=>f(t.id,t.active)})})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-emerald-100",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-4",children:"Add New Payment Mode"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"new-mode-name",children:"Name"}),e.jsx(y,{id:"new-mode-name",value:d,onChange:t=>o(t.target.value),placeholder:"e.g., PAYPAL"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{htmlFor:"collect-card",className:"flex flex-col",children:[e.jsx("span",{children:"Collect Card Details"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Toggle if card info is needed."})]}),e.jsx(i,{id:"collect-card",checked:m,onCheckedChange:x})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(n,{htmlFor:"active-status",className:"flex flex-col",children:[e.jsx("span",{children:"Active Status"}),e.jsx("span",{className:"text-xs text-slate-500",children:"Enable/disable this method."})]}),e.jsx(i,{id:"active-status",checked:h,onCheckedChange:p})]}),e.jsxs(v,{onClick:b,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Add Payment Mode"]})]})]})]})]})};export{E as default};

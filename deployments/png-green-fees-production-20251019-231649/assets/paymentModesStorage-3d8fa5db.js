import{s as c}from"./index-f386841f.js";const n=async()=>{try{const{data:t,error:e}=await c.from("payment_modes").select("*").order("name",{ascending:!0});if(e)throw e;return t.map(a=>({id:a.id,name:a.name,collectCardDetails:a.collect_card_details,active:a.active}))}catch(t){return console.error("Failed to get payment modes from Supabase",t),[]}},d=async t=>{try{const{data:e,error:a}=await c.from("payment_modes").insert([{name:t.name.toUpperCase().trim(),collect_card_details:t.collectCardDetails,active:t.active}]).select().single();if(a)throw a;return{id:e.id,name:e.name,collectCardDetails:e.collect_card_details,active:e.active}}catch(e){throw console.error("Failed to add payment mode to Supabase",e),e}},l=async(t,e)=>{try{const a={};e.name!==void 0&&(a.name=e.name.toUpperCase().trim()),e.collectCardDetails!==void 0&&(a.collect_card_details=e.collectCardDetails),e.active!==void 0&&(a.active=e.active);const{data:r,error:o}=await c.from("payment_modes").update(a).eq("id",t).select().single();if(o)throw o;return{id:r.id,name:r.name,collectCardDetails:r.collect_card_details,active:r.active}}catch(a){throw console.error("Failed to update payment mode in Supabase",a),a}};export{d as a,n as g,l as u};

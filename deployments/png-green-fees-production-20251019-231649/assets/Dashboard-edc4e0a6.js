import{t as p,c as ht,r as L,s as zt,j as s,m as wt,L as ft,I as vt,B as It,C as J,a as Q,b as Z,d as tt}from"./index-f386841f.js";import{u as Tt,a as $t,b as Ft,i as I,c as Kt,d as Bt,e as nt,w as mt,g as At,f as Pt,h as Ot,C as St,j as V,D as Wt,k as Mt,L as st,l as Gt,A as Ht,m as R,n as Rt,o as ct,p as Vt,q as Ut,G as Xt,r as Dt,s as yt,t as Yt,E as qt,v as Jt,X as U,Y as X,x as Qt,R as et,T as rt,y as at,B as Zt,z as te}from"./BarChart-2dc98d28.js";var ee=["x1","y1","x2","y2","key"],re=["offset"];function F(t){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(t)}function pt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?pt(Object(a),!0).forEach(function(r){ae(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function ae(t,e,a){return e=ne(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function ne(t){var e=ie(t,"string");return F(e)=="symbol"?e:e+""}function ie(t,e){if(F(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e||"default");if(F(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T(){return T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},T.apply(this,arguments)}function gt(t,e){if(t==null)return{};var a=oe(t,e),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function oe(t,e){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;a[r]=t[r]}return a}var se=function(e){var a=e.fill;if(!a||a==="none")return null;var r=e.fillOpacity,n=e.x,i=e.y,o=e.width,l=e.height,u=e.ry;return p.createElement("rect",{x:n,y:i,ry:u,width:o,height:l,stroke:"none",fill:a,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Ct(t,e){var a;if(p.isValidElement(t))a=p.cloneElement(t,e);else if(nt(t))a=t(e);else{var r=e.x1,n=e.y1,i=e.x2,o=e.y2,l=e.key,u=gt(e,ee),d=V(u,!1);d.offset;var c=gt(d,re);a=p.createElement("line",T({},c,{x1:r,y1:n,x2:i,y2:o,fill:"none",key:l}))}return a}function le(t){var e=t.x,a=t.width,r=t.horizontal,n=r===void 0?!0:r,i=t.horizontalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,u){var d=S(S({},t),{},{x1:e,y1:l,x2:e+a,y2:l,key:"line-".concat(u),index:u});return Ct(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function ce(t){var e=t.y,a=t.height,r=t.vertical,n=r===void 0?!0:r,i=t.verticalPoints;if(!n||!i||!i.length)return null;var o=i.map(function(l,u){var d=S(S({},t),{},{x1:l,y1:e,x2:l,y2:e+a,key:"line-".concat(u),index:u});return Ct(n,d)});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ue(t){var e=t.horizontalFill,a=t.fillOpacity,r=t.x,n=t.y,i=t.width,o=t.height,l=t.horizontalPoints,u=t.horizontal,d=u===void 0?!0:u;if(!d||!e||!e.length)return null;var c=l.map(function(h){return Math.round(h+n-n)}).sort(function(h,v){return h-v});n!==c[0]&&c.unshift(0);var g=c.map(function(h,v){var m=!c[v+1],y=m?n+o-h:c[v+1]-h;if(y<=0)return null;var j=v%e.length;return p.createElement("rect",{key:"react-".concat(v),y:h,x:r,height:y,width:i,stroke:"none",fill:e[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function de(t){var e=t.vertical,a=e===void 0?!0:e,r=t.verticalFill,n=t.fillOpacity,i=t.x,o=t.y,l=t.width,u=t.height,d=t.verticalPoints;if(!a||!r||!r.length)return null;var c=d.map(function(h){return Math.round(h+i-i)}).sort(function(h,v){return h-v});i!==c[0]&&c.unshift(0);var g=c.map(function(h,v){var m=!c[v+1],y=m?i+l-h:c[v+1]-h;if(y<=0)return null;var j=v%r.length;return p.createElement("rect",{key:"react-".concat(v),x:h,y:o,width:y,height:u,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var he=function(e,a){var r=e.xAxis,n=e.width,i=e.height,o=e.offset;return At(Pt(S(S(S({},St.defaultProps),r),{},{ticks:Ot(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.left,o.left+o.width,a)},fe=function(e,a){var r=e.yAxis,n=e.width,i=e.height,o=e.offset;return At(Pt(S(S(S({},St.defaultProps),r),{},{ticks:Ot(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),o.top,o.top+o.height,a)},B={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Y(t){var e,a,r,n,i,o,l=Tt(),u=$t(),d=Ft(),c=S(S({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:B.stroke,fill:(a=t.fill)!==null&&a!==void 0?a:B.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:B.horizontal,horizontalFill:(n=t.horizontalFill)!==null&&n!==void 0?n:B.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:B.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:B.verticalFill,x:I(t.x)?t.x:d.left,y:I(t.y)?t.y:d.top,width:I(t.width)?t.width:d.width,height:I(t.height)?t.height:d.height}),g=c.x,h=c.y,v=c.width,m=c.height,y=c.syncWithTicks,j=c.horizontalValues,f=c.verticalValues,x=Kt(),O=Bt();if(!I(v)||v<=0||!I(m)||m<=0||!I(g)||g!==+g||!I(h)||h!==+h)return null;var w=c.verticalCoordinatesGenerator||he,P=c.horizontalCoordinatesGenerator||fe,C=c.horizontalPoints,D=c.verticalPoints;if((!C||!C.length)&&nt(P)){var z=j&&j.length,N=P({yAxis:O?S(S({},O),{},{ticks:z?j:O.ticks}):void 0,width:l,height:u,offset:d},z?!0:y);mt(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(F(N),"]")),Array.isArray(N)&&(C=N)}if((!D||!D.length)&&nt(w)){var b=f&&f.length,A=w({xAxis:x?S(S({},x),{},{ticks:b?f:x.ticks}):void 0,width:l,height:u,offset:d},b?!0:y);mt(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(F(A),"]")),Array.isArray(A)&&(D=A)}return p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(se,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),p.createElement(le,T({},c,{offset:d,horizontalPoints:C,xAxis:x,yAxis:O})),p.createElement(ce,T({},c,{offset:d,verticalPoints:D,xAxis:x,yAxis:O})),p.createElement(ue,T({},c,{horizontalPoints:C})),p.createElement(de,T({},c,{verticalPoints:D})))}Y.displayName="CartesianGrid";var ve=["type","layout","connectNulls","ref"],me=["key"];function M(t){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(t)}function xt(t,e){if(t==null)return{};var a=ye(t,e),r,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function ye(t,e){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;a[r]=t[r]}return a}function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},q.apply(this,arguments)}function bt(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function E(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?bt(Object(a),!0).forEach(function(r){_(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function W(t){return be(t)||xe(t)||ge(t)||pe()}function pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ge(t,e){if(t){if(typeof t=="string")return ut(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ut(t,e)}}function xe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function be(t){if(Array.isArray(t))return ut(t)}function ut(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Et(r.key),r)}}function we(t,e,a){return e&&jt(t.prototype,e),a&&jt(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ae(t,e,a){return e=it(e),Pe(t,kt()?Reflect.construct(e,a||[],it(t).constructor):e.apply(t,a))}function Pe(t,e){if(e&&(M(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(t)}function Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kt=function(){return!!t})()}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},it(t)}function Se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},dt(t,e)}function _(t,e,a){return e=Et(e),e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function Et(t){var e=De(t,"string");return M(e)=="symbol"?e:e+""}function De(t,e){if(M(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e||"default");if(M(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $=function(t){function e(){var a;je(this,e);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=Ae(this,e,[].concat(n)),_(a,"state",{isAnimationFinished:!0,totalLength:0}),_(a,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),_(a,"getStrokeDasharray",function(o,l,u){var d=u.reduce(function(f,x){return f+x});if(!d)return a.generateSimpleStrokeDasharray(l,o);for(var c=Math.floor(o/d),g=o%d,h=l-o,v=[],m=0,y=0;m<u.length;y+=u[m],++m)if(y+u[m]>g){v=[].concat(W(u.slice(0,m)),[g-y]);break}var j=v.length%2===0?[0,h]:[h];return[].concat(W(e.repeat(u,c)),W(v),j).map(function(f){return"".concat(f,"px")}).join(", ")}),_(a,"id",Yt("recharts-line-")),_(a,"pathRef",function(o){a.mainCurve=o}),_(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),_(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return Se(e,t),we(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,u=i.yAxis,d=i.layout,c=i.children,g=Mt(c,qt);if(!g)return null;var h=function(y,j){return{x:y.x,y:y.y,value:y.value,errorVal:Dt(y.payload,j)}},v={clipPath:r?"url(#clipPath-".concat(n,")"):null};return p.createElement(st,v,g.map(function(m){return p.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:o,xAxis:l,yAxis:u,layout:d,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,n,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.dot,d=l.points,c=l.dataKey,g=V(this.props,!1),h=V(u,!0),v=d.map(function(y,j){var f=E(E(E({key:"dot-".concat(j),r:3},g),h),{},{index:j,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:d});return e.renderDotItem(u,f)}),m={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return p.createElement(st,q({className:"recharts-line-dots",key:"dots"},m),v)}},{key:"renderCurveStatically",value:function(r,n,i,o){var l=this.props,u=l.type,d=l.layout,c=l.connectNulls;l.ref;var g=xt(l,ve),h=E(E(E({},V(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(i,")"):null,points:r},o),{},{type:u,layout:d,connectNulls:c});return p.createElement(Gt,q({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var i=this,o=this.props,l=o.points,u=o.strokeDasharray,d=o.isAnimationActive,c=o.animationBegin,g=o.animationDuration,h=o.animationEasing,v=o.animationId,m=o.animateNewValues,y=o.width,j=o.height,f=this.state,x=f.prevPoints,O=f.totalLength;return p.createElement(Ht,{begin:c,duration:g,isActive:d,easing:h,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var P=w.t;if(x){var C=x.length/l.length,D=l.map(function(k,ot){var G=Math.floor(ot*C);if(x[G]){var H=x[G],K=R(H.x,k.x),Nt=R(H.y,k.y);return E(E({},k),{},{x:K(P),y:Nt(P)})}if(m){var _t=R(y*2,k.x),Lt=R(j/2,k.y);return E(E({},k),{},{x:_t(P),y:Lt(P)})}return E(E({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(D,r,n)}var z=R(0,O),N=z(P),b;if(u){var A="".concat(u).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});b=i.getStrokeDasharray(N,O,A)}else b=i.generateSimpleStrokeDasharray(O,N);return i.renderCurveStatically(l,r,n,{strokeDasharray:b})})}},{key:"renderCurve",value:function(r,n){var i=this.props,o=i.points,l=i.isAnimationActive,u=this.state,d=u.prevPoints,c=u.totalLength;return l&&o&&o.length&&(!d&&c>0||!Rt(d,o))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(o,r,n)}},{key:"render",value:function(){var r,n=this.props,i=n.hide,o=n.dot,l=n.points,u=n.className,d=n.xAxis,c=n.yAxis,g=n.top,h=n.left,v=n.width,m=n.height,y=n.isAnimationActive,j=n.id;if(i||!l||!l.length)return null;var f=this.state.isAnimationFinished,x=l.length===1,O=ht("recharts-line",u),w=d&&d.allowDataOverflow,P=c&&c.allowDataOverflow,C=w||P,D=ct(j)?this.id:j,z=(r=V(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=z.r,b=N===void 0?3:N,A=z.strokeWidth,k=A===void 0?2:A,ot=Vt(o)?o:{},G=ot.clipDot,H=G===void 0?!0:G,K=b*2+k;return p.createElement(st,{className:O},w||P?p.createElement("defs",null,p.createElement("clipPath",{id:"clipPath-".concat(D)},p.createElement("rect",{x:w?h:h-v/2,y:P?g:g-m/2,width:w?v:v*2,height:P?m:m*2})),!H&&p.createElement("clipPath",{id:"clipPath-dots-".concat(D)},p.createElement("rect",{x:h-K/2,y:g-K/2,width:v+K,height:m+K}))):null,!x&&this.renderCurve(C,D),this.renderErrorBar(C,D),(x||o)&&this.renderDots(C,H,D),(!y||f)&&Ut.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var i=r.length%2!==0?[].concat(W(r),[0]):r,o=[],l=0;l<n;++l)o=[].concat(W(o),W(i));return o}},{key:"renderDotItem",value:function(r,n){var i;if(p.isValidElement(r))i=p.cloneElement(r,n);else if(nt(r))i=r(n);else{var o=n.key,l=xt(n,me),u=ht("recharts-line-dot",typeof r!="boolean"?r.className:"");i=p.createElement(Wt,q({key:o},l,{className:u}))}return i}}])}(L.PureComponent);_($,"displayName","Line");_($,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Xt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});_($,"getComposedData",function(t){var e=t.props,a=t.xAxis,r=t.yAxis,n=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,u=t.displayedData,d=t.offset,c=e.layout,g=u.map(function(h,v){var m=Dt(h,o);return c==="horizontal"?{x:yt({axis:a,ticks:n,bandSize:l,entry:h,index:v}),y:ct(m)?null:r.scale(m),value:m,payload:h}:{x:ct(m)?null:a.scale(m),y:yt({axis:r,ticks:i,bandSize:l,entry:h,index:v}),value:m,payload:h}});return E({points:g,layout:c},d)});var lt=Jt({chartName:"LineChart",GraphicalChild:$,axisComponents:[{axisType:"xAxis",AxisComp:U},{axisType:"yAxis",AxisComp:X}],formatAxisMap:Qt});const Ce=({title:t,value:e,index:a})=>s.jsxs(wt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:a*.05},whileHover:{y:-4,scale:1.02},className:"bg-gradient-to-br from-emerald-500 via-emerald-400 to-teal-500 text-white rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-shadow relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/10 transition-colors duration-300"}),s.jsx("h3",{className:"text-sm font-medium mb-2 opacity-90 relative z-10",children:t}),s.jsx("p",{className:"text-3xl md:text-4xl font-bold relative z-10",children:e})]}),ke=t=>{const e=Array(12).fill(0).map((n,i)=>({name:new Date(0,i).toLocaleString("default",{month:"short"}),Individual:0,Corporate:0,Overall:0})),a={};t.forEach(n=>{const i=n.date.getMonth();e[i][n.type]+=n.amount,e[i].Overall+=n.amount,a[n.nationality]||(a[n.nationality]=0),a[n.nationality]+=n.amount});const r=Object.entries(a).map(([n,i])=>({name:n,Kina:i})).sort((n,i)=>i.Kina-n.Kina).slice(0,7);return{lineChartData:e,barChartData:r}},_e=()=>{const t=new Date,e=new Date(t);e.setMonth(e.getMonth()-1);const[a,r]=L.useState(e.toISOString().split("T")[0]),[n,i]=L.useState(t.toISOString().split("T")[0]),[o,l]=L.useState([]),[u,d]=L.useState([]),[c,g]=L.useState(!0);L.useEffect(()=>{h()},[]),L.useEffect(()=>{v()},[a,n,u]);const h=async()=>{g(!0);try{const{data:f,error:x}=await zt.from("transactions").select("*").order("created_at",{ascending:!1});if(x)throw x;const O=(f||[]).map(w=>({date:new Date(w.created_at),amount:parseFloat(w.amount),paymentMethod:w.payment_method||"Cash",type:w.transaction_type==="individual"||w.transaction_type==="individual_purchase"?"Individual":"Corporate",nationality:w.nationality||"Unknown"}));d(O)}catch(f){console.error("Error loading transactions:",f),d([])}finally{g(!1)}},v=()=>{const f=new Date(a);f.setHours(0,0,0,0);const x=new Date(n);x.setHours(23,59,59,999);const O=u.filter(w=>{const P=new Date(w.date);return P>=f&&P<=x});l(O)},m=L.useMemo(()=>{const f=new Date;f.setHours(0,0,0,0);const x=new Date;x.setHours(23,59,59,999);const O=u.filter(b=>{const A=new Date(b.date);return A>=f&&A<=x}),w=o.reduce((b,A)=>b+A.amount,0),P=O.reduce((b,A)=>b+A.amount,0),C=o.filter(b=>b.paymentMethod==="Card").reduce((b,A)=>b+A.amount,0),D=o.filter(b=>b.paymentMethod==="Cash").reduce((b,A)=>b+A.amount,0),z=o.filter(b=>b.type==="Individual").length,N=o.filter(b=>b.type==="Corporate").length;return[{title:"Overall Revenue",value:`K ${w.toLocaleString()}`},{title:"Today's Revenue",value:`K ${P.toLocaleString()}`},{title:"Card Payments",value:`K ${C.toLocaleString()}`},{title:"Cash Payments",value:`K ${D.toLocaleString()}`},{title:"Total Individual Purchases",value:z},{title:"Total Corporate Purchases",value:N}]},[o]),{lineChartData:y,barChartData:j}=L.useMemo(()=>ke(o),[o]);return s.jsxs(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-6 mb-2",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-emerald-600 via-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:"Dashboard"}),s.jsx("p",{className:"text-slate-600 text-lg",children:"Monitor your green fees performance"})]}),s.jsxs("div",{className:"flex flex-wrap items-end gap-4 glass-effect p-5 rounded-xl",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ft,{htmlFor:"from-date",className:"text-sm font-medium text-slate-700",children:"From Date"}),s.jsx(vt,{id:"from-date",type:"date",value:a,onChange:f=>r(f.target.value),className:"bg-white border-slate-200 h-11"})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(ft,{htmlFor:"to-date",className:"text-sm font-medium text-slate-700",children:"To Date"}),s.jsx(vt,{id:"to-date",type:"date",value:n,onChange:f=>i(f.target.value),className:"bg-white border-slate-200 h-11"})]}),s.jsx(It,{onClick:v,className:"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white h-11 px-6 shadow-md hover:shadow-lg transition-all",children:"Filter"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:m.map((f,x)=>s.jsx(Ce,{...f,index:x},f.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(J,{className:"lg:col-span-1 glass-effect card-hover border-slate-200",children:[s.jsx(Q,{className:"pb-4",children:s.jsx(Z,{className:"text-xl font-semibold text-slate-800",children:"Individual Purchases"})}),s.jsx(tt,{children:s.jsx(et,{width:"100%",height:300,children:s.jsxs(lt,{data:y,children:[s.jsx(Y,{strokeDasharray:"3 3"}),s.jsx(U,{dataKey:"name"}),s.jsx(X,{}),s.jsx(rt,{formatter:f=>`K ${f.toLocaleString()}`}),s.jsx(at,{}),s.jsx($,{type:"monotone",dataKey:"Individual",stroke:"#10b981",strokeWidth:2})]})})})]}),s.jsxs(J,{className:"lg:col-span-1 glass-effect card-hover border-slate-200",children:[s.jsx(Q,{className:"pb-4",children:s.jsx(Z,{className:"text-xl font-semibold text-slate-800",children:"Corporate Purchases"})}),s.jsx(tt,{children:s.jsx(et,{width:"100%",height:300,children:s.jsxs(lt,{data:y,children:[s.jsx(Y,{strokeDasharray:"3 3"}),s.jsx(U,{dataKey:"name"}),s.jsx(X,{}),s.jsx(rt,{formatter:f=>`K ${f.toLocaleString()}`}),s.jsx(at,{}),s.jsx($,{type:"monotone",dataKey:"Corporate",stroke:"#06b6d4",strokeWidth:2})]})})})]}),s.jsxs(J,{className:"lg:col-span-1 glass-effect card-hover border-slate-200",children:[s.jsx(Q,{className:"pb-4",children:s.jsx(Z,{className:"text-xl font-semibold text-slate-800",children:"Overall Revenue"})}),s.jsx(tt,{children:s.jsx(et,{width:"100%",height:300,children:s.jsxs(lt,{data:y,children:[s.jsx(Y,{strokeDasharray:"3 3"}),s.jsx(U,{dataKey:"name"}),s.jsx(X,{}),s.jsx(rt,{formatter:f=>`K ${f.toLocaleString()}`}),s.jsx(at,{}),s.jsx($,{type:"monotone",dataKey:"Overall",stroke:"#f97316",strokeWidth:2})]})})})]})]}),s.jsxs(J,{className:"glass-effect card-hover border-slate-200",children:[s.jsx(Q,{className:"pb-4",children:s.jsx(Z,{className:"text-xl font-semibold text-slate-800",children:"Revenue by Nationality (Kina)"})}),s.jsx(tt,{children:s.jsx(et,{width:"100%",height:400,children:s.jsxs(Zt,{data:j,layout:"vertical",margin:{left:20},children:[s.jsx(Y,{strokeDasharray:"3 3"}),s.jsx(U,{type:"number"}),s.jsx(X,{type:"category",dataKey:"name",width:100}),s.jsx(rt,{formatter:f=>`K ${f.toLocaleString()}`}),s.jsx(at,{}),s.jsx(te,{dataKey:"Kina",fill:"#10b981"})]})})})]})]})};export{_e as default};

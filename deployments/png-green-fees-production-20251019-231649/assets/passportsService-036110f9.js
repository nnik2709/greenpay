import{s as t}from"./index-f386841f.js";const n=async()=>{try{const{data:r,error:e}=await t.from("passports").select("*").order("created_at",{ascending:!1});if(e)throw e;return r}catch(r){return console.error("Error loading passports:",r),[]}},c=async r=>{try{const{data:e,error:s}=await t.from("passports").select("*").eq("passport_number",r).maybeSingle();if(s)throw s;return e}catch(e){return console.error("Error finding passport:",e),null}},i=async r=>{try{const{data:e,error:s}=await t.from("passports").select("*").or(`passport_number.ilike.%${r}%,surname.ilike.%${r}%,given_name.ilike.%${r}%`).order("created_at",{ascending:!1});if(s)throw s;return e}catch(e){return console.error("Error searching passports:",e),[]}},p=async(r,e)=>{try{const{data:s,error:o}=await t.from("passports").insert([{passport_number:r.passportNumber,nationality:r.nationality,surname:r.surname,given_name:r.givenName,date_of_birth:r.dob,sex:r.sex,date_of_expiry:r.dateOfExpiry,created_by:e}]).select().single();if(o)throw o;return s}catch(s){throw console.error("Error creating passport:",s),s}};export{c as a,p as c,n as g,i as s};
